<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Lens.Loupe</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Lens-Loupe.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lens-3.7.1.2: Lenses, Folds and Traversals</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>Rank2Types</td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>Trustworthy</td></tr></table><p class="caption">Control.Lens.Loupe</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Lenses
</a></li><li><a href="#g:2">Simplified
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code> is a minimalist <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> suitable for storing in containers
 or returning monadically that can still be composed with other lenses.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Loupe">Loupe</a> s t a b = <a href="Control-Lens-Type.html#t:LensLike">LensLike</a> (<a href="Control-Lens-Internal.html#t:Context">Context</a> a b) s t a b</li><li class="src short"><a href="#v:storing">storing</a> ::  <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; b -&gt; s -&gt; t</li><li class="src short"><a href="#v:-94--35-">(^#)</a> ::  s -&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; a</li><li class="src short"><a href="#v:-35--126-">(#~)</a> ::  <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; b -&gt; s -&gt; t</li><li class="src short"><a href="#v:-35--37--126-">(#%~)</a> ::  <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t</li><li class="src short"><a href="#v:-35--37--37--126-">(#%%~)</a> :: <a href="/usr/local/Cellar/ghc/7.4.2/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Functor">Functor</a> f =&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; (a -&gt; f b) -&gt; s -&gt; f t</li><li class="src short"><a href="#v:-60--35--126-">(&lt;#~)</a> ::  <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; b -&gt; s -&gt; (b, t)</li><li class="src short"><a href="#v:-60--35--37--126-">(&lt;#%~)</a> ::  <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; (b, t)</li><li class="src short"><a href="#v:-35--61-">(#=)</a> :: <a href="/usr/local/Cellar/haskell-platform/2012.4.0.0/share/doc/mtl-2.1.2/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a b -&gt; b -&gt; m <a href="/usr/local/Cellar/ghc/7.4.2/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><a href="#v:-35--37--61-">(#%=)</a> :: <a href="/usr/local/Cellar/haskell-platform/2012.4.0.0/share/doc/mtl-2.1.2/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a b -&gt; (a -&gt; b) -&gt; m <a href="/usr/local/Cellar/ghc/7.4.2/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><a href="#v:-35--37--37--61-">(#%%=)</a> :: <a href="/usr/local/Cellar/haskell-platform/2012.4.0.0/share/doc/mtl-2.1.2/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a b -&gt; (a -&gt; (r, b)) -&gt; m r</li><li class="src short"><a href="#v:-60--35--61-">(&lt;#=)</a> :: <a href="/usr/local/Cellar/haskell-platform/2012.4.0.0/share/doc/mtl-2.1.2/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a b -&gt; b -&gt; m b</li><li class="src short"><a href="#v:-60--35--37--61-">(&lt;#%=)</a> :: <a href="/usr/local/Cellar/haskell-platform/2012.4.0.0/share/doc/mtl-2.1.2/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a b -&gt; (a -&gt; b) -&gt; m b</li><li class="src short"><span class="keyword">type</span> <a href="#t:SimpleLoupe">SimpleLoupe</a> s a = <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a a</li></ul></div><div id="interface"><h1 id="g:1">Lenses
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Loupe" class="def">Loupe</a> s t a b = <a href="Control-Lens-Type.html#t:LensLike">LensLike</a> (<a href="Control-Lens-Internal.html#t:Context">Context</a> a b) s t a b</p><div class="doc"><p>A <code><code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code> s t a b</code> is almost a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code>. It can be composed on the left of other lenses,
 you can use <code><a href="Control-Lens-Type.html#v:cloneLens">cloneLens</a></code> to promote it to a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code>, and it provides a minimalist lens-like
 interface. They can be used in an API where you need to pass around lenses inside containers
 or as monadic results. Unlike a <code><a href="Control-Lens-Type.html#t:ReifiedLens">ReifiedLens</a></code> they can be composed and used directly, but
 they are slightly lower performance.
</p></div></div><div class="top"><p class="src"><a name="v:storing" class="def">storing</a> ::  <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; b -&gt; s -&gt; t</p><div class="doc"><p>A <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code>-specific version of <code><a href="Control-Lens-Setter.html#v:set">set</a></code>
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>storing _2 &quot;world&quot; (&quot;hello&quot;,&quot;there&quot;)
</code></strong>(&quot;hello&quot;,&quot;world&quot;)
</pre></div></div><div class="top"><p class="src"><a name="v:-94--35-" class="def">(^#)</a> ::  s -&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; a</p><div class="doc"><p>A <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code>-specific version of (<code><a href="Control-Lens-Getter.html#v:-94-.">^.</a></code>)
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;hello&quot;,&quot;world&quot;)^#_2
</code></strong>&quot;world&quot;
</pre></div></div><div class="top"><p class="src"><a name="v:-35--126-" class="def">(#~)</a> ::  <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; b -&gt; s -&gt; t</p><div class="doc"><p>A <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code>-specific version of (<code><a href="Control-Lens-Setter.html#v:.-126-">.~</a></code>)
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;hello&quot;,&quot;there&quot;) &amp; _2 #~ &quot;world&quot;
</code></strong>(&quot;hello&quot;,&quot;world&quot;)
</pre></div></div><div class="top"><p class="src"><a name="v:-35--37--126-" class="def">(#%~)</a> ::  <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t</p><div class="doc"><p>A <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code>-specific version of (<code><a href="Control-Lens-Setter.html#v:-37--126-">%~</a></code>)
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;hello&quot;,&quot;world&quot;) &amp; _2 #%~ length
</code></strong>(&quot;hello&quot;,5)
</pre></div></div><div class="top"><p class="src"><a name="v:-35--37--37--126-" class="def">(#%%~)</a> :: <a href="/usr/local/Cellar/ghc/7.4.2/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Functor">Functor</a> f =&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; (a -&gt; f b) -&gt; s -&gt; f t</p><div class="doc"><p>A <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code>-specific version of (<code><a href="Control-Lens-Type.html#v:-37--37--126-">%%~</a></code>)
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;hello&quot;,&quot;world&quot;) &amp; _2 #%%~ \x -&gt; (length x, x ++ &quot;!&quot;)
</code></strong>(5,(&quot;hello&quot;,&quot;world!&quot;))
</pre></div></div><div class="top"><p class="src"><a name="v:-60--35--126-" class="def">(&lt;#~)</a> ::  <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; b -&gt; s -&gt; (b, t)</p><div class="doc"><p>Replace the target of a <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code> and return the new value.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;hello&quot;,&quot;there&quot;) &amp; _2 &lt;#~ &quot;world&quot;
</code></strong>(&quot;world&quot;,(&quot;hello&quot;,&quot;world&quot;))
</pre></div></div><div class="top"><p class="src"><a name="v:-60--35--37--126-" class="def">(&lt;#%~)</a> ::  <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; (b, t)</p><div class="doc"><p>Modify the target of a <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code> and return the result.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;hello&quot;,&quot;world&quot;) &amp; _2 &lt;#%~ length
</code></strong>(5,(&quot;hello&quot;,5))
</pre></div></div><div class="top"><p class="src"><a name="v:-35--61-" class="def">(#=)</a> :: <a href="/usr/local/Cellar/haskell-platform/2012.4.0.0/share/doc/mtl-2.1.2/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a b -&gt; b -&gt; m <a href="/usr/local/Cellar/ghc/7.4.2/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>A <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code>-specific version of (<code><a href="Control-Lens-Setter.html#v:.-61-">.=</a></code>)
</p></div></div><div class="top"><p class="src"><a name="v:-35--37--61-" class="def">(#%=)</a> :: <a href="/usr/local/Cellar/haskell-platform/2012.4.0.0/share/doc/mtl-2.1.2/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a b -&gt; (a -&gt; b) -&gt; m <a href="/usr/local/Cellar/ghc/7.4.2/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>A <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code>-specific version of (<code><a href="Control-Lens-Setter.html#v:-37--61-">%=</a></code>)
</p></div></div><div class="top"><p class="src"><a name="v:-35--37--37--61-" class="def">(#%%=)</a> :: <a href="/usr/local/Cellar/haskell-platform/2012.4.0.0/share/doc/mtl-2.1.2/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a b -&gt; (a -&gt; (r, b)) -&gt; m r</p><div class="doc"><p>Modify the target of a <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code> in the current monadic state, returning an auxiliary result.
</p></div></div><div class="top"><p class="src"><a name="v:-60--35--61-" class="def">(&lt;#=)</a> :: <a href="/usr/local/Cellar/haskell-platform/2012.4.0.0/share/doc/mtl-2.1.2/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a b -&gt; b -&gt; m b</p><div class="doc"><p>Replace the target of a <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code> in the current monadic state, returning the new value.
</p></div></div><div class="top"><p class="src"><a name="v:-60--35--37--61-" class="def">(&lt;#%=)</a> :: <a href="/usr/local/Cellar/haskell-platform/2012.4.0.0/share/doc/mtl-2.1.2/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a b -&gt; (a -&gt; b) -&gt; m b</p><div class="doc"><p>Modify the target of a <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code> into your monad's state by a user supplied function and return the result.
</p></div></div><h1 id="g:2">Simplified
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:SimpleLoupe" class="def">SimpleLoupe</a> s a = <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a a</p><div class="doc"><pre>type <code><a href="Control-Lens-Loupe.html#t:SimpleLoupe">SimpleLoupe</a></code> = <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code></pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.11.0</p></div></body></html>